import{S as a,i as s,s as r,e as c,k as t,j as e,l as o,a0 as n,c as l,d as i,n as d,m as h,b as f,E as v,f as m,o as u,r as E,u as p,v as $,w as I,B as g,t as k,a as D,g as V,h as b,I as w}from"../../chunks/vendor-d0121766.js";import{T as L}from"../../chunks/Tabs-5a965d64.js";import{a as j,n as x}from"../../chunks/notificationStore-a4963416.js";import{L as y}from"../../chunks/LoadingSpinner-ccea779e.js";import"../../chunks/stores-57470c1d.js";import"../../chunks/variables-adc57dbe.js";function B(a){let s,r,e,o,n,h,u,E,p,$,I,g,L,j,x,y,B,A,T,H,S,N,Q,U,G,M,P,q,z,C,F,J;return{c(){s=c("div"),r=c("div"),e=c("div"),o=c("div"),n=c("div"),h=c("div"),u=c("div"),E=c("h3"),p=k(a[1]),$=t(),I=c("label"),g=k("Users"),L=t(),j=c("div"),x=c("div"),y=c("div"),B=c("div"),A=c("h3"),T=k("3"),H=t(),S=c("label"),N=k("Booking"),Q=t(),U=c("div"),G=c("div"),M=c("div"),P=c("div"),q=c("h3"),z=k("4"),C=t(),F=c("label"),J=k("Quotes"),this.h()},l(c){s=l(c,"DIV",{class:!0});var t=D(s);r=l(t,"DIV",{class:!0});var f=D(r);e=l(f,"DIV",{class:!0});var v=D(e);o=l(v,"DIV",{class:!0});var m=D(o);n=l(m,"DIV",{class:!0});var k=D(n);h=l(k,"DIV",{class:!0});var b=D(h);u=l(b,"DIV",{class:!0});var w=D(u);E=l(w,"H3",{});var K=D(E);p=V(K,a[1]),K.forEach(i),$=d(w),I=l(w,"LABEL",{});var O=D(I);g=V(O,"Users"),O.forEach(i),w.forEach(i),b.forEach(i),k.forEach(i),m.forEach(i),L=d(v),j=l(v,"DIV",{class:!0});var R=D(j);x=l(R,"DIV",{class:!0});var W=D(x);y=l(W,"DIV",{class:!0});var X=D(y);B=l(X,"DIV",{class:!0});var Y=D(B);A=l(Y,"H3",{});var Z=D(A);T=V(Z,"3"),Z.forEach(i),H=d(Y),S=l(Y,"LABEL",{});var _=D(S);N=V(_,"Booking"),_.forEach(i),Y.forEach(i),X.forEach(i),W.forEach(i),R.forEach(i),Q=d(v),U=l(v,"DIV",{class:!0});var aa=D(U);G=l(aa,"DIV",{class:!0});var sa=D(G);M=l(sa,"DIV",{class:!0});var ra=D(M);P=l(ra,"DIV",{class:!0});var ca=D(P);q=l(ca,"H3",{});var ta=D(q);z=V(ta,"4"),ta.forEach(i),C=d(ca),F=l(ca,"LABEL",{});var ea=D(F);J=V(ea,"Quotes"),ea.forEach(i),ca.forEach(i),ra.forEach(i),sa.forEach(i),aa.forEach(i),v.forEach(i),f.forEach(i),t.forEach(i),this.h()},h(){f(u,"class","text-center"),f(h,"class","card-body"),f(n,"class","card"),f(o,"class","col-sm"),f(B,"class","text-center"),f(y,"class","card-body"),f(x,"class","card"),f(j,"class","col-sm"),f(P,"class","text-center"),f(M,"class","card-body"),f(G,"class","card"),f(U,"class","col-sm"),f(e,"class","row"),f(r,"class","container"),f(s,"class","container")},m(a,c){m(a,s,c),v(s,r),v(r,e),v(e,o),v(o,n),v(n,h),v(h,u),v(u,E),v(E,p),v(u,$),v(u,I),v(I,g),v(e,L),v(e,j),v(j,x),v(x,y),v(y,B),v(B,A),v(A,T),v(B,H),v(B,S),v(S,N),v(e,Q),v(e,U),v(U,G),v(G,M),v(M,P),v(P,q),v(q,z),v(P,C),v(P,F),v(F,J)},p(a,s){2&s&&b(p,a[1])},i:w,o:w,d(a){a&&i(s)}}}function A(a){let s,r;return s=new y({}),{c(){e(s.$$.fragment)},l(a){h(s.$$.fragment,a)},m(a,c){u(s,a,c),r=!0},p:w,i(a){r||($(s.$$.fragment,a),r=!0)},o(a){E(s.$$.fragment,a),r=!1},d(a){I(s,a)}}}function T(a){let s,r,k,D,V,b,w,j;k=new L({});const x=[A,B],y=[];function T(a,s){return a[0]?0:1}return V=T(a),b=y[V]=x[V](a),{c(){s=c("meta"),r=t(),e(k.$$.fragment),D=t(),b.c(),w=o(),this.h()},l(a){const c=n('[data-svelte="svelte-s8heis"]',document.head);s=l(c,"META",{name:!0,content:!0}),c.forEach(i),r=d(a),h(k.$$.fragment,a),D=d(a),b.l(a),w=o(),this.h()},h(){document.title="Admin Panel",f(s,"name","robots"),f(s,"content","noindex, nofollow")},m(a,c){v(document.head,s),m(a,r,c),u(k,a,c),m(a,D,c),y[V].m(a,c),m(a,w,c),j=!0},p(a,[s]){let r=V;V=T(a),V===r?y[V].p(a,s):(g(),E(y[r],1,1,(()=>{y[r]=null})),p(),b=y[V],b?b.p(a,s):(b=y[V]=x[V](a),b.c()),$(b,1),b.m(w.parentNode,w))},i(a){j||($(k.$$.fragment,a),$(b),j=!0)},o(a){E(k.$$.fragment,a),E(b),j=!1},d(a){i(s),a&&i(r),I(k,a),a&&i(D),y[V].d(a),a&&i(w)}}}async function H({session:a}){return a.user&&"admin"===a.user.role&&a.authenticated?{props:{token:a.token}}:{status:302,redirect:"/"}}function S(a,s,r){let c,{token:t}=s,e=!0;return(async()=>{try{const a=await j("GET","admin/stats",{},t);if(a.status>=400)throw r(0,e=!1),new Error(a.message);r(0,e=!1),r(1,c=Number(a))}catch(a){r(0,e=!1),x.warning(a.message)}})(),a.$$set=a=>{"token"in a&&r(2,t=a.token)},[e,c,t]}export default class extends a{constructor(a){super(),s(this,a,S,T,r,{token:2})}}export{H as load};
