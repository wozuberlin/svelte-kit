import{S as a,i as s,s as r,e as c,k as t,j as e,l as o,a1 as n,c as l,d as i,n as f,m as h,b as d,E as v,f as m,o as u,r as E,u as p,v as $,w as g,B as k,t as D,a as I,g as V,h as b,J as w}from"../../chunks/vendor-444b70c0.js";import{T as L}from"../../chunks/Tabs-8fc662cb.js";import{a as j,n as x}from"../../chunks/notificationStore-a5687986.js";import{L as y}from"../../chunks/LoadingSpinner-c96195f5.js";import"../../chunks/stores-4f414b9c.js";import"../../chunks/variables-f5c9ea4e.js";function B(a){let s,r,e,o,n,h,u,E,p,$,g,k,L,j,x,y,B,A,T,H,S,N,Q,U,G,J,M,P,q,z,C,F;return{c(){s=c("div"),r=c("div"),e=c("div"),o=c("div"),n=c("div"),h=c("div"),u=c("div"),E=c("h3"),p=D(a[1]),$=t(),g=c("label"),k=D("Users"),L=t(),j=c("div"),x=c("div"),y=c("div"),B=c("div"),A=c("h3"),T=D("3"),H=t(),S=c("label"),N=D("Booking"),Q=t(),U=c("div"),G=c("div"),J=c("div"),M=c("div"),P=c("h3"),q=D("4"),z=t(),C=c("label"),F=D("Quotes"),this.h()},l(c){s=l(c,"DIV",{class:!0});var t=I(s);r=l(t,"DIV",{class:!0});var d=I(r);e=l(d,"DIV",{class:!0});var v=I(e);o=l(v,"DIV",{class:!0});var m=I(o);n=l(m,"DIV",{class:!0});var D=I(n);h=l(D,"DIV",{class:!0});var b=I(h);u=l(b,"DIV",{class:!0});var w=I(u);E=l(w,"H3",{});var K=I(E);p=V(K,a[1]),K.forEach(i),$=f(w),g=l(w,"LABEL",{});var O=I(g);k=V(O,"Users"),O.forEach(i),w.forEach(i),b.forEach(i),D.forEach(i),m.forEach(i),L=f(v),j=l(v,"DIV",{class:!0});var R=I(j);x=l(R,"DIV",{class:!0});var W=I(x);y=l(W,"DIV",{class:!0});var X=I(y);B=l(X,"DIV",{class:!0});var Y=I(B);A=l(Y,"H3",{});var Z=I(A);T=V(Z,"3"),Z.forEach(i),H=f(Y),S=l(Y,"LABEL",{});var _=I(S);N=V(_,"Booking"),_.forEach(i),Y.forEach(i),X.forEach(i),W.forEach(i),R.forEach(i),Q=f(v),U=l(v,"DIV",{class:!0});var aa=I(U);G=l(aa,"DIV",{class:!0});var sa=I(G);J=l(sa,"DIV",{class:!0});var ra=I(J);M=l(ra,"DIV",{class:!0});var ca=I(M);P=l(ca,"H3",{});var ta=I(P);q=V(ta,"4"),ta.forEach(i),z=f(ca),C=l(ca,"LABEL",{});var ea=I(C);F=V(ea,"Quotes"),ea.forEach(i),ca.forEach(i),ra.forEach(i),sa.forEach(i),aa.forEach(i),v.forEach(i),d.forEach(i),t.forEach(i),this.h()},h(){d(u,"class","text-center"),d(h,"class","card-body"),d(n,"class","card"),d(o,"class","col-sm"),d(B,"class","text-center"),d(y,"class","card-body"),d(x,"class","card"),d(j,"class","col-sm"),d(M,"class","text-center"),d(J,"class","card-body"),d(G,"class","card"),d(U,"class","col-sm"),d(e,"class","row"),d(r,"class","container"),d(s,"class","container")},m(a,c){m(a,s,c),v(s,r),v(r,e),v(e,o),v(o,n),v(n,h),v(h,u),v(u,E),v(E,p),v(u,$),v(u,g),v(g,k),v(e,L),v(e,j),v(j,x),v(x,y),v(y,B),v(B,A),v(A,T),v(B,H),v(B,S),v(S,N),v(e,Q),v(e,U),v(U,G),v(G,J),v(J,M),v(M,P),v(P,q),v(M,z),v(M,C),v(C,F)},p(a,s){2&s&&b(p,a[1])},i:w,o:w,d(a){a&&i(s)}}}function A(a){let s,r;return s=new y({}),{c(){e(s.$$.fragment)},l(a){h(s.$$.fragment,a)},m(a,c){u(s,a,c),r=!0},p:w,i(a){r||($(s.$$.fragment,a),r=!0)},o(a){E(s.$$.fragment,a),r=!1},d(a){g(s,a)}}}function T(a){let s,r,D,I,V,b,w,j;D=new L({});const x=[A,B],y=[];function T(a,s){return a[0]?0:1}return V=T(a),b=y[V]=x[V](a),{c(){s=c("meta"),r=t(),e(D.$$.fragment),I=t(),b.c(),w=o(),this.h()},l(a){const c=n('[data-svelte="svelte-s8heis"]',document.head);s=l(c,"META",{name:!0,content:!0}),c.forEach(i),r=f(a),h(D.$$.fragment,a),I=f(a),b.l(a),w=o(),this.h()},h(){document.title="Admin Panel",d(s,"name","robots"),d(s,"content","noindex, nofollow")},m(a,c){v(document.head,s),m(a,r,c),u(D,a,c),m(a,I,c),y[V].m(a,c),m(a,w,c),j=!0},p(a,[s]){let r=V;V=T(a),V===r?y[V].p(a,s):(k(),E(y[r],1,1,(()=>{y[r]=null})),p(),b=y[V],b?b.p(a,s):(b=y[V]=x[V](a),b.c()),$(b,1),b.m(w.parentNode,w))},i(a){j||($(D.$$.fragment,a),$(b),j=!0)},o(a){E(D.$$.fragment,a),E(b),j=!1},d(a){i(s),a&&i(r),g(D,a),a&&i(I),y[V].d(a),a&&i(w)}}}async function H({session:a}){return a.user&&"admin"===a.user.role&&a.authenticated?{props:{token:a.token}}:{status:302,redirect:"/"}}function S(a,s,r){let c,{token:t}=s,e=!0;return(async()=>{try{const a=await j("GET","admin/stats",{},t);if(a.status>=400)throw r(0,e=!1),new Error(a.message);r(0,e=!1),r(1,c=Number(a))}catch(a){r(0,e=!1),x.warning(a.message)}})(),a.$$set=a=>{"token"in a&&r(2,t=a.token)},[e,c,t]}export default class extends a{constructor(a){super(),s(this,a,S,T,r,{token:2})}}export{H as load};
