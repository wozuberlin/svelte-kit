import{S as a,i as s,s as e,e as r,k as t,t as c,j as o,a1 as n,c as i,d as l,n as d,a as m,g as f,m as u,b as v,M as h,D as g,E as p,f as E,o as $,F as b,v as w,r as y,w as D,a2 as I}from"../chunks/vendor-444b70c0.js";import{T as P,i as x,a as V}from"../chunks/validation-e64388c3.js";import{a as A,b as k,n as T}from"../chunks/notificationStore-a26190da.js";import"../chunks/variables-f5c9ea4e.js";function j(a){let s,e,x,V,A,k,T,j,M,L,S,H,R,N,B,F,Y,U,O,q,C,z,G,J,K,Q,W,X,Z,_,aa,sa,ea,ra,ta,ca,oa,na,ia,la,da,ma,fa,ua,va,ha,ga,pa,Ea,$a,ba,wa,ya,Da,Ia,Pa;return X=new P({props:{id:"email",label:"Email",valid:a[2],validityMessage:"Please enter a valid email.",value:a[0],className:"is-large"}}),X.$on("input",a[7]),_=new P({props:{id:"password",label:"Password",type:"password",valid:a[3],validityMessage:"Please enter a valid password.",value:a[1],className:"is-large"}}),_.$on("input",a[8]),{c(){s=r("meta"),e=t(),x=r("main"),V=r("div"),A=r("div"),k=r("div"),T=r("div"),j=r("span"),M=c("Test users"),L=t(),S=r("div"),H=c("Admin: me@me.com Password#1 and User: me1@me.com Password#1"),R=t(),N=r("br"),B=t(),F=r("div"),Y=r("div"),U=r("div"),O=r("h2"),q=c("HI, THERE"),C=t(),z=r("p"),G=c("You can log in to your MY LA Store account here."),J=t(),K=r("hr"),Q=t(),W=r("div"),o(X.$$.fragment),Z=t(),o(_.$$.fragment),aa=t(),sa=r("p"),ea=r("small"),ra=c("Password minimum length 8, must have 1 capital letter, 1 number and 1 special\n\t\t\t\t\t\t\t\tcharacter."),ta=t(),ca=r("div"),oa=r("a"),na=c("Forgot Password?"),ia=t(),la=r("br"),da=t(),ma=r("br"),fa=t(),ua=r("div"),va=r("div"),ha=r("button"),ga=c("Login"),$a=t(),ba=r("div"),wa=r("a"),ya=c("Don't have an account?"),this.h()},l(a){const r=n('[data-svelte="svelte-llvbr8"]',document.head);s=i(r,"META",{name:!0,content:!0}),r.forEach(l),e=d(a),x=i(a,"MAIN",{});var t=m(x);V=i(t,"DIV",{class:!0});var c=m(V);A=i(c,"DIV",{class:!0});var o=m(A);k=i(o,"DIV",{class:!0,style:!0});var v=m(k);T=i(v,"DIV",{class:!0});var h=m(T);j=i(h,"SPAN",{});var g=m(j);M=f(g,"Test users"),g.forEach(l),h.forEach(l),L=d(v),S=i(v,"DIV",{class:!0});var p=m(S);H=f(p,"Admin: me@me.com Password#1 and User: me1@me.com Password#1"),p.forEach(l),v.forEach(l),o.forEach(l),R=d(c),N=i(c,"BR",{}),B=d(c),F=i(c,"DIV",{class:!0});var E=m(F);Y=i(E,"DIV",{class:!0,style:!0});var $=m(Y);U=i($,"DIV",{class:!0});var b=m(U);O=i(b,"H2",{class:!0});var w=m(O);q=f(w,"HI, THERE"),w.forEach(l),C=d(b),z=i(b,"P",{});var y=m(z);G=f(y,"You can log in to your MY LA Store account here."),y.forEach(l),J=d(b),K=i(b,"HR",{}),Q=d(b),W=i(b,"DIV",{});var D=m(W);u(X.$$.fragment,D),Z=d(D),u(_.$$.fragment,D),aa=d(D),sa=i(D,"P",{});var I=m(sa);ea=i(I,"SMALL",{});var P=m(ea);ra=f(P,"Password minimum length 8, must have 1 capital letter, 1 number and 1 special\n\t\t\t\t\t\t\t\tcharacter."),P.forEach(l),I.forEach(l),D.forEach(l),ta=d(b),ca=i(b,"DIV",{class:!0});var pa=m(ca);oa=i(pa,"A",{href:!0});var Ea=m(oa);na=f(Ea,"Forgot Password?"),Ea.forEach(l),ia=d(pa),la=i(pa,"BR",{}),da=d(pa),ma=i(pa,"BR",{}),pa.forEach(l),fa=d(b),ua=i(b,"DIV",{class:!0});var Da=m(ua);va=i(Da,"DIV",{class:!0});var Ia=m(va);ha=i(Ia,"BUTTON",{"aria-disabled":!0,class:!0,disabled:!0});var Pa=m(ha);ga=f(Pa,"Login"),Pa.forEach(l),Ia.forEach(l),Da.forEach(l),b.forEach(l),$a=d($),ba=i($,"DIV",{class:!0});var xa=m(ba);wa=i(xa,"A",{href:!0,class:!0});var Va=m(wa);ya=f(Va,"Don't have an account?"),Va.forEach(l),xa.forEach(l),$.forEach(l),E.forEach(l),c.forEach(l),t.forEach(l),this.h()},h(){document.title="Login Form",v(s,"name","robots"),v(s,"content","noindex, nofollow"),v(T,"class","card-header bg-primary text-white"),v(S,"class","card-body text-primary"),v(k,"class","card mt-5"),h(k,"width","40rem"),v(A,"class","d-flex justify-content-center"),v(O,"class","text-primary"),v(oa,"href","/forgot"),v(ca,"class","text-center"),v(ha,"aria-disabled",pa=a[4]?"false":"true"),v(ha,"class","btn btn-success align-right svelte-dkd5q1"),ha.disabled=Ea=!a[4],g(ha,"disabled",!a[4]),v(va,"class","d-grid gap-2 d-md-flex justify-content-md-end"),v(ua,"class","clearfix"),v(U,"class","card-body"),v(wa,"href","register"),v(wa,"class","text-white"),v(ba,"class","card-footer bg-primary text-center"),v(Y,"class","card"),h(Y,"width","40rem"),v(F,"class","d-flex justify-content-center"),v(V,"class","container")},m(r,t){p(document.head,s),E(r,e,t),E(r,x,t),p(x,V),p(V,A),p(A,k),p(k,T),p(T,j),p(j,M),p(k,L),p(k,S),p(S,H),p(V,R),p(V,N),p(V,B),p(V,F),p(F,Y),p(Y,U),p(U,O),p(O,q),p(U,C),p(U,z),p(z,G),p(U,J),p(U,K),p(U,Q),p(U,W),$(X,W,null),p(W,Z),$(_,W,null),p(W,aa),p(W,sa),p(sa,ea),p(ea,ra),p(U,ta),p(U,ca),p(ca,oa),p(oa,na),p(ca,ia),p(ca,la),p(ca,da),p(ca,ma),p(U,fa),p(U,ua),p(ua,va),p(va,ha),p(ha,ga),p(Y,$a),p(Y,ba),p(ba,wa),p(wa,ya),Da=!0,Ia||(Pa=[b(window,"keydown",a[6]),b(ha,"click",a[5])],Ia=!0)},p(a,[s]){const e={};4&s&&(e.valid=a[2]),1&s&&(e.value=a[0]),X.$set(e);const r={};8&s&&(r.valid=a[3]),2&s&&(r.value=a[1]),_.$set(r),(!Da||16&s&&pa!==(pa=a[4]?"false":"true"))&&v(ha,"aria-disabled",pa),(!Da||16&s&&Ea!==(Ea=!a[4]))&&(ha.disabled=Ea),16&s&&g(ha,"disabled",!a[4])},i(a){Da||(w(X.$$.fragment,a),w(_.$$.fragment,a),Da=!0)},o(a){y(X.$$.fragment,a),y(_.$$.fragment,a),Da=!1},d(a){l(s),a&&l(e),a&&l(x),D(X),D(_),Ia=!1,I(Pa)}}}async function M({session:a}){return a.authenticated?{status:302,redirect:"/"}:{}}function L(a,s,e){let r,t,c,o="",n="";async function i(a){a.preventDefault();const s={email:o,password:n};try{const a=await A("POST","user/login",s);if(a.status>=400)throw Error(a.message);return await k(a),e(0,o=""),e(1,n=""),location.href=`/profile/${a.user.username}`}catch(r){T.warning(r.message)}}return a.$$.update=()=>{1&a.$$.dirty&&e(2,r=x(o)),2&a.$$.dirty&&e(3,t=V(n)),12&a.$$.dirty&&e(4,c=r&&t)},[o,n,r,t,c,i,function(a){return c&&13===a.keyCode&&i(a),null},a=>e(0,o=a.target.value),a=>e(1,n=a.target.value)]}export default class extends a{constructor(a){super(),s(this,a,L,j,e,{})}}export{M as load};
