import{S as a,i as e,s,e as t,k as r,t as n,j as l,a1 as o,c as i,d as c,n as d,a as m,g as u,m as v,b as f,M as $,E as h,f as p,o as g,F as w,G as y,v as E,r as b,w as P,a2 as R}from"../chunks/vendor-444b70c0.js";import{T as k,i as x,a as I}from"../chunks/validation-e64388c3.js";import{a as T,n as M}from"../chunks/notificationStore-a26190da.js";import"../chunks/variables-f5c9ea4e.js";function j(a){let e,s,x,I,T,M,j,D,N,V,O,S,A,F,C,G,H,W,B,U,q,z,J,K,L,Q,X,Y,Z,_,aa,ea,sa,ta,ra,na,la,oa;return W=new k({props:{id:"name",label:"Name",valid:a[6],validityMessage:"Please enter a valid email.",value:a[6],className:"is-large"}}),W.$on("input",a[10]),U=new k({props:{id:"email",label:"Email",valid:a[3],validityMessage:"Please enter a valid email.",value:a[0],className:"is-large"}}),U.$on("input",a[11]),z=new k({props:{id:"password",label:"Password",type:"password",valid:a[4],validityMessage:"Please enter a valid password.",value:a[1],className:"is-large"}}),z.$on("input",a[12]),K=new k({props:{id:"passwordConfirmation",label:"Password Confirmation",type:"password",valid:a[5],validityMessage:"Passwords did not match",value:a[2],className:"is-large"}}),K.$on("input",a[13]),{c(){e=t("meta"),s=r(),x=t("div"),I=t("div"),T=t("div"),M=t("div"),j=t("div"),D=t("div"),N=t("h2"),V=n("REGISTER"),O=r(),S=t("p"),A=n("We're happy you're here!"),F=r(),C=t("hr"),G=r(),H=t("form"),l(W.$$.fragment),B=r(),l(U.$$.fragment),q=r(),l(z.$$.fragment),J=r(),l(K.$$.fragment),L=r(),Q=t("p"),X=n("Password minimum length 8, must have 1 capital letter, 1 number and 1 special\n\t\t\t\t\t\t\t\tcharacter."),Y=r(),Z=t("button"),_=n("Register"),ea=r(),sa=t("footer"),ta=t("a"),ra=n("Already have an account?"),this.h()},l(a){const t=o('[data-svelte="svelte-1ma6lh2"]',document.head);e=i(t,"META",{name:!0,content:!0}),t.forEach(c),s=d(a),x=i(a,"DIV",{class:!0});var r=m(x);I=i(r,"DIV",{class:!0});var n=m(I);T=i(n,"DIV",{class:!0});var l=m(T);M=i(l,"DIV",{class:!0,style:!0});var f=m(M);j=i(f,"DIV",{class:!0});var $=m(j);D=i($,"DIV",{});var h=m(D);N=i(h,"H2",{class:!0});var p=m(N);V=u(p,"REGISTER"),p.forEach(c),O=d(h),S=i(h,"P",{});var g=m(S);A=u(g,"We're happy you're here!"),g.forEach(c),h.forEach(c),F=d($),C=i($,"HR",{}),G=d($),H=i($,"FORM",{});var w=m(H);v(W.$$.fragment,w),B=d(w),v(U.$$.fragment,w),q=d(w),v(z.$$.fragment,w),J=d(w),v(K.$$.fragment,w),L=d(w),Q=i(w,"P",{});var y=m(Q);X=u(y,"Password minimum length 8, must have 1 capital letter, 1 number and 1 special\n\t\t\t\t\t\t\t\tcharacter."),y.forEach(c),Y=d(w),Z=i(w,"BUTTON",{class:!0,disabled:!0});var E=m(Z);_=u(E,"Register"),E.forEach(c),w.forEach(c),$.forEach(c),ea=d(f),sa=i(f,"FOOTER",{class:!0});var b=m(sa);ta=i(b,"A",{href:!0});var P=m(ta);ra=u(P,"Already have an account?"),P.forEach(c),b.forEach(c),f.forEach(c),l.forEach(c),n.forEach(c),r.forEach(c),this.h()},h(){document.title="Register Form",f(e,"name","robots"),f(e,"content","noindex, nofollow"),f(N,"class","text-primary"),f(Z,"class","btn btn-success float-end"),Z.disabled=aa=!a[7],f(j,"class","card-body"),f(ta,"href","/login"),f(sa,"class","card-footer text-center pt-3 pb-3"),f(M,"class","card mt-5"),$(M,"max-width","50em"),f(T,"class","d-flex justify-content-center d-block"),f(I,"class","col"),f(x,"class","container")},m(t,r){h(document.head,e),p(t,s,r),p(t,x,r),h(x,I),h(I,T),h(T,M),h(M,j),h(j,D),h(D,N),h(N,V),h(D,O),h(D,S),h(S,A),h(j,F),h(j,C),h(j,G),h(j,H),g(W,H,null),h(H,B),g(U,H,null),h(H,q),g(z,H,null),h(H,J),g(K,H,null),h(H,L),h(H,Q),h(Q,X),h(H,Y),h(H,Z),h(Z,_),h(M,ea),h(M,sa),h(sa,ta),h(ta,ra),na=!0,la||(oa=[w(window,"keydown",a[9]),w(Z,"click",y(a[8]))],la=!0)},p(a,[e]){const s={};64&e&&(s.valid=a[6]),64&e&&(s.value=a[6]),W.$set(s);const t={};8&e&&(t.valid=a[3]),1&e&&(t.value=a[0]),U.$set(t);const r={};16&e&&(r.valid=a[4]),2&e&&(r.value=a[1]),z.$set(r);const n={};32&e&&(n.valid=a[5]),4&e&&(n.value=a[2]),K.$set(n),(!na||128&e&&aa!==(aa=!a[7]))&&(Z.disabled=aa)},i(a){na||(E(W.$$.fragment,a),E(U.$$.fragment,a),E(z.$$.fragment,a),E(K.$$.fragment,a),na=!0)},o(a){b(W.$$.fragment,a),b(U.$$.fragment,a),b(z.$$.fragment,a),b(K.$$.fragment,a),na=!1},d(a){c(e),a&&c(s),a&&c(x),P(W),P(U),P(z),P(K),la=!1,R(oa)}}}async function D({session:a}){return a.authenticated?{status:302,redirect:"/"}:{}}function N(a,e,s){let t,r,n,l,o="",i="",c="",d="";async function m(){try{const a=await T("POST","user/account-activation",{name:o,email:i,password:c});if(a&&a.status>=400)throw new Error(a.message);return s(0,i=""),s(1,c=""),s(6,o=""),M.success(a.message)}catch(a){return M.warning(a.message)}}return a.$$.update=()=>{1&a.$$.dirty&&s(3,t=x(i)),2&a.$$.dirty&&s(4,r=I(c)),6&a.$$.dirty&&s(5,n=c===d),56&a.$$.dirty&&s(7,l=t&&r&&n)},[i,c,d,t,r,n,o,l,m,function(a){l&&13===a.keyCode&&m()},a=>s(6,o=a.target.value),a=>s(0,i=a.target.value),a=>s(1,c=a.target.value),a=>s(2,d=a.target.value)]}export default class extends a{constructor(a){super(),e(this,a,N,j,s,{})}}export{D as load};
